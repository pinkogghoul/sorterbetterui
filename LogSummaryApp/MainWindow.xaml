<Window x:Class="LogSummaryApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="LOG SUMMARY"
        Height="800" Width="1200"
        WindowState="Maximized"
        Background="{StaticResource ColorBackground}"
        PreviewMouseWheel="Window_PreviewMouseWheel">
    <Grid x:Name="MainGrid" RenderTransformOrigin="0.5,0.5">
        <Grid.RenderTransform>
            <ScaleTransform x:Name="ScaleTransform" ScaleX="1.0" ScaleY="1.0"/>
        </Grid.RenderTransform>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Header Section -->
        <Grid Grid.Row="0" Background="{StaticResource ColorHeaderBg}" Margin="0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <TextBlock Grid.Column="0"
                       Text="LOG SUMMARY"
                       FontSize="16"
                       FontWeight="Bold"
                       Foreground="{StaticResource ColorTextHeader}"
                       VerticalAlignment="Center"
                       Margin="15,6,8,6"/>

            <TextBlock Grid.Column="1"
                       x:Name="TotalActiveLabel"
                       Text="Total Active: 0"
                       FontSize="11"
                       FontWeight="Bold"
                       Foreground="{StaticResource ColorTextActive}"
                       VerticalAlignment="Center"
                       Margin="8,6,8,6"/>

            <TextBlock Grid.Column="2"
                       x:Name="TotalInactiveLabel"
                       Text="Total Inactive: 0"
                       FontSize="11"
                       FontWeight="Bold"
                       Foreground="{StaticResource ColorTextInactive}"
                       VerticalAlignment="Center"
                       Margin="8,6,15,6"/>
        </Grid>

        <!-- Controls Section -->
        <StackPanel Grid.Row="1"
                    HorizontalAlignment="Center"
                    Margin="0,6,0,6">
            <Button x:Name="SelectFolderButton"
                    Content="Select Folder(s) and Start Sorting"
                    Padding="12,6"
                    FontSize="11"
                    Click="SelectFolderButton_Click"/>

            <TextBlock x:Name="StatusLabel"
                       Text="Please select a folder to begin."
                       FontSize="10"
                       Foreground="{StaticResource ColorTextDefault}"
                       HorizontalAlignment="Center"
                       Margin="0,4,0,0"/>
        </StackPanel>

        <!-- Table Section -->
        <ScrollViewer Grid.Row="2"
                      VerticalScrollBarVisibility="Auto"
                      Margin="12,0,12,12">
            <Border Background="{StaticResource ColorFrame}"
                    BorderBrush="{StaticResource ColorRowSeparator}"
                    BorderThickness="2"
                    CornerRadius="8"
                    Padding="6">
                <StackPanel>
                    <!-- Table Header -->
                    <Grid Height="26"
                          Margin="0,0,0,0"
                          Background="{StaticResource ColorHeaderTableBg}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="32"/>
                            <ColumnDefinition Width="55"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="70"/>
                            <ColumnDefinition Width="70"/>
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Column="0"
                                   Text="#"
                                   FontSize="10"
                                   FontWeight="Bold"
                                   Foreground="White"
                                   VerticalAlignment="Center"
                                   HorizontalAlignment="Center"/>

                        <TextBlock Grid.Column="1"
                                   Text="Count"
                                   FontSize="10"
                                   FontWeight="Bold"
                                   Foreground="White"
                                   VerticalAlignment="Center"
                                   HorizontalAlignment="Center"/>

                        <TextBlock Grid.Column="2"
                                   Text="Category / Priority"
                                   FontSize="10"
                                   FontWeight="Bold"
                                   Foreground="White"
                                   VerticalAlignment="Center"
                                   Margin="6,0,0,0"/>

                        <TextBlock Grid.Column="3"
                                   Text="Active"
                                   FontSize="10"
                                   FontWeight="Bold"
                                   Foreground="White"
                                   VerticalAlignment="Center"
                                   HorizontalAlignment="Center"/>

                        <TextBlock Grid.Column="4"
                                   Text="Inactive"
                                   FontSize="10"
                                   FontWeight="Bold"
                                   Foreground="White"
                                   VerticalAlignment="Center"
                                   HorizontalAlignment="Center"/>
                    </Grid>

                    <Rectangle Height="1"
                               Fill="{StaticResource ColorRowSeparator}"
                               Margin="0,0,0,3"/>

                    <!-- Table Rows -->
                    <ItemsControl x:Name="TableItemsControl"
                                  ItemsSource="{Binding TableRows}">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Grid Height="24"
                                      Margin="0,0,0,0"
                                      Background="{StaticResource ColorRowBg}">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="32"/>
                                        <ColumnDefinition Width="55"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="70"/>
                                        <ColumnDefinition Width="70"/>
                                    </Grid.ColumnDefinitions>

                                    <!-- Index -->
                                    <TextBlock Grid.Column="0"
                                               Text="{Binding Index}"
                                               FontSize="9"
                                               Foreground="{StaticResource ColorTextDefault}"
                                               VerticalAlignment="Center"
                                               HorizontalAlignment="Center"/>

                                    <!-- Count (x# format) -->
                                    <TextBlock Grid.Column="1"
                                               FontSize="10"
                                               FontWeight="Bold"
                                               Foreground="{StaticResource ColorTextCount}"
                                               VerticalAlignment="Center"
                                               HorizontalAlignment="Center">
                                        <Run Text="x"/><Run Text="{Binding Count}"/>
                                    </TextBlock>

                                    <!-- Category with Icon -->
                                    <StackPanel Grid.Column="2"
                                                Orientation="Horizontal"
                                                VerticalAlignment="Center"
                                                Margin="3,0,0,0">
                                        <Image Source="{Binding Icon}"
                                               Width="20"
                                               Height="20"
                                               Margin="3,0,6,0"/>
                                        <TextBlock Text="{Binding Category}"
                                                   FontSize="9"
                                                   Foreground="{StaticResource ColorTextDefault}"
                                                   VerticalAlignment="Center"/>
                                    </StackPanel>

                                    <!-- Active Count -->
                                    <TextBlock Grid.Column="3"
                                               Text="{Binding Active}"
                                               FontSize="10"
                                               FontWeight="Bold"
                                               Foreground="{StaticResource ColorTextActive}"
                                               VerticalAlignment="Center"
                                               HorizontalAlignment="Center"/>

                                    <!-- Inactive Count -->
                                    <TextBlock Grid.Column="4"
                                               Text="{Binding Inactive}"
                                               FontSize="10"
                                               FontWeight="Bold"
                                               Foreground="{StaticResource ColorTextInactive}"
                                               VerticalAlignment="Center"
                                               HorizontalAlignment="Center"/>

                                    <!-- Row Separator -->
                                    <Rectangle Grid.Column="0"
                                               Grid.ColumnSpan="5"
                                               Height="1"
                                               Fill="{StaticResource ColorRowSeparator}"
                                               VerticalAlignment="Bottom"/>
                                </Grid>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </StackPanel>
            </Border>
        </ScrollViewer>
    </Grid>
</Window>
